<!DOCTYPE html>
<html lang="eng">
<head>
  <meta charset="UTF-8">
  <title>Kazakhstan Tourist Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" href="css_folder/main_page.css">
  <link rel="stylesheet" href="css_folder/auth.css">
</head>
<body>
  <!-- Bootstrap Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="#">Kazakhstan Tourist Guide</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="about.html">About Kazakhstan</a></li>
          <li class="nav-item"><a class="nav-link" href="page1.html">Cities & Routes</a></li>
          <li class="nav-item"><a class="nav-link" href="tours.html">Services</a></li>
          
          <!-- Auth Buttons (show when NOT logged in) -->
          <li class="nav-item auth-nav" id="loginNavBtn">
            <a class="nav-link" href="#" onclick="openLoginModal()">ğŸ‘¤ Log In</a>
          </li>
          <li class="nav-item auth-nav" id="signupNavBtn">
            <a class="nav-link" href="#" onclick="openSignupModal()">âœ¨ Sign Up</a>
          </li>
          
          <!-- User Info (show when logged in) -->
          <li class="nav-item" id="userNavInfo" style="display: none;">
            <a class="nav-link" href="#" onclick="openProfileModal()">
              <span id="userNameNav">ğŸ‘¤ User</span>
            </a>
          </li>
          <li class="nav-item" id="logoutNavBtn" style="display: none;">
            <a class="nav-link" href="#" onclick="handleLogout()">ğŸšª Logout</a>
          </li>
          
          <li class="nav-item">
            <button id="themeToggle" class="theme-btn">ğŸŒ™ Dark Mode</button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Login Modal -->
  <div id="loginModal" class="modal-overlay">
    <div class="modal-box">
      <div class="modal-header">
        <h3>ğŸ‘¤ Log In to Your Account</h3>
        <button class="close-btn" onclick="closeLoginModal()">&times;</button>
      </div>
      <div class="modal-body">
        <form id="loginForm" onsubmit="handleLogin(event)">
          <div class="form-group">
            <label>Email address</label>
            <input type="email" id="loginEmail" class="form-input" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="loginPassword" class="form-input" required>
          </div>
          <div id="loginError" class="error-message"></div>
          <button type="submit" class="btn-submit">Log In</button>
        </form>
        <div class="modal-footer">
          <p>Don't have an account? <a href="#" onclick="switchToSignup()">Sign Up</a></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Sign Up Modal -->
  <div id="signupModal" class="modal-overlay">
    <div class="modal-box">
      <div class="modal-header">
        <h3>âœ¨ Create Your Account</h3>
        <button class="close-btn" onclick="closeSignupModal()">&times;</button>
      </div>
      <div class="modal-body">
        <form id="signupForm" onsubmit="handleSignup(event)">
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="signupName" class="form-input" required>
          </div>
          <div class="form-group">
            <label>Email address</label>
            <input type="email" id="signupEmail" class="form-input" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="signupPassword" class="form-input" required minlength="6">
            <small>Minimum 6 characters</small>
          </div>
          <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" id="signupPasswordConfirm" class="form-input" required>
          </div>
          <div id="signupError" class="error-message"></div>
          <div id="signupSuccess" class="success-message"></div>
          <button type="submit" class="btn-submit btn-success">Sign Up</button>
        </form>
        <div class="modal-footer">
          <p>Already have an account? <a href="#" onclick="switchToLogin()">Log In</a></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Profile Modal -->
  <div id="profileModal" class="modal-overlay">
    <div class="modal-box">
      <div class="modal-header">
        <h3>ğŸ“‹ My Profile</h3>
        <button class="close-btn" onclick="closeProfileModal()">&times;</button>
      </div>
      <div class="modal-body">
        <div class="profile-info">
          <div class="profile-avatar">ğŸ‘¤</div>
          <h2 id="profileName"></h2>
          
          <div class="profile-details">
            <div class="detail-item">
              <strong>ğŸ“§ Email:</strong>
              <span id="profileEmail"></span>
            </div>
            <div class="detail-item">
              <strong>ğŸ“… Member Since:</strong>
              <span id="profileJoined"></span>
            </div>
            <div class="detail-item">
              <strong>ğŸ« Bookings:</strong>
              <span id="profileBookings">0 tours booked</span>
            </div>
          </div>
          
          <button class="btn-danger" onclick="deleteAccount()">ğŸ—‘ï¸ Delete Account</button>
        </div>
      </div>
    </div>
  </div>

  <!-- main block -->
  <main class="master">
    <h2>Welcome to Kazakhstan</h2>
    <div id="greeting"></div>
    <p>Discover the culture, cities and nature of an amazing country.</p>
    <a class="btn" href="tours.html">Start your journey</a>
  </main>

  <!-- Popular destinations -->
  <section class="highlights">
    <h3>Popular destinations</h3>
    <div class="cards">
      <div class="card">
        <img src="images/astana.jpg" alt="Astana" class="card-img">
        <div class="card-content">
          <h4>Astana</h4>
          <p>A modern capital with unique architecture and futuristic buildings. Experience the blend of traditional
            Kazakh culture with cutting-edge urban development.</p>
          <a href="astana.html" class="card-button">Learn More</a>
        </div>
      </div>
      <div class="card">
        <img src="images/almaty.jpg" alt="Almaty" class="card-img">
        <div class="card-content">
          <h4>Almaty</h4>
          <p>Mountains, canyons and the cultural heart of Kazakhstan. Discover the former capital's rich history,
            vibrant arts scene, and stunning mountain backdrop.</p>
          <a href="almaty.html" class="card-button">Learn More</a>
        </div>
      </div>
      <div class="card">
        <img src="images/charyn.jpg" alt="Charyn Canyon" class="card-img">
        <div class="card-content">
          <h4>Charyn Canyon</h4>
          <p>Breathtaking natural views 200 km from Almaty. Often called Kazakhstan's Grand Canyon, this geological
            wonder offers spectacular red rock formations.</p>
          <a href="almatyOblysy.html" class="card-button">Learn More</a>
        </div>
      </div>
    </div>
  </section>

  <footer class="site-footer">
    <p id="team-list">Team: </p>
    <p>Â© 2025 Discover Kazakhstan</p>
    <p>Contact us:
      <a id="link" href="mailto:240918@astanait.edu.kz">240918@astanait.edu.kz</a><br>
      <a id="github" href="https://github.com/Metsuk1/web_lab02" target="_blank">GitHub</a>
    </p>
    <div id="date-time" class="datetime-block"></div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="scripts/index.js"></script>
  <script src="scripts/auth.js"></script>
  <script src="scripts/bg_color.js" defer></script>
</body>
</html>